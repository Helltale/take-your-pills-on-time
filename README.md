# Take Your Pills On Time

Telegram бот для напоминаний о приеме лекарств с поддержкой периодичности, комментариев, изображений и статистики выполнения.


## Возможности

- ✅ Регистрация пользователей Telegram
- ✅ Создание напоминаний с различными типами периодичности:
  - Ежедневно (`daily`)
  - Еженедельно (`weekly`)
  - Кастомный интервал в часах (`custom`)
  - Конкретное время каждый день (`specific`)
- ✅ Добавление комментариев и изображений к напоминаниям
- ✅ Автоматическая отправка напоминаний по расписанию
- ✅ Статистика выполнения напоминаний
- ✅ Подтверждение/пропуск напоминаний через inline кнопки

## Команды бота

- `/start` - Начать работу с ботом
- `/help` - Показать справку
- `/new` - Создать новое напоминание
- `/list` - Показать список напоминаний
- `/stats` - Показать статистику выполнения

## База данных

### Таблицы

- **users** - Пользователи Telegram бота
- **reminders** - Напоминания пользователей
- **reminder_executions** - Статистика выполнения напоминаний

## Установка и запуск

### Docker (рекомендуется)

1. Скопируйте файл `.env.example` в `.env`:
```bash
cp .env.example .env
```

2. Отредактируйте `.env` файл и укажите ваш токен Telegram бота:
```bash
TELEGRAM_BOT_TOKEN=your_actual_bot_token_here
```

3. Запустите приложение через Docker Compose:
```bash
docker-compose up -d
```

### Переменные окружения

Все необходимые переменные окружения описаны в файле `.env.example`:

- `TELEGRAM_BOT_TOKEN` - токен бота от @BotFather (обязательно)
- `DB_HOST` - хост базы данных (для Docker: `postgres`)
- `DB_PORT` - порт базы данных (по умолчанию: `5432`)
- `DB_USER` - пользователь БД (по умолчанию: `postgres`)
- `DB_PASSWORD` - пароль БД (по умолчанию: `postgres`)
- `DB_NAME` - имя БД (по умолчанию: `pills_bot`)
- `DB_SSLMODE` - режим SSL (для Docker: `disable`)
- `APP_ENV` - окружение (`development` или `production`)
- `LOG_LEVEL` - уровень логирования (`debug`, `info`, `warn`, `error`)

## Разработка

### Генерация моков

Проект использует `mockgen` для автоматической генерации моков из интерфейсов репозиториев.

Для генерации моков выполните:

```bash
export PATH=$PATH:$HOME/go/bin
go generate ./internal/repository/...
```
Моки генерируются в директории `internal/repository/mocks/` и используются в юнит-тестах use cases.

### Тестирование
